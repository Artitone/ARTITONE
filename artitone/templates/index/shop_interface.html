{% extends 'base.html' %}
{% load static %}
{% block content %}
{% include 'search_sidebar.html' %}
<body>

<style>
:root {
  --duration: 1.5s;
  --container-size: 250px;
  --box-size: 33px;
  --box-border-radius: 15%; }


.box_container {
  display: flex;
  width: var(--container-size);
  justify-content: space-between;
  align-items: center;
  position: relative; }

.box {
  width: var(--box-size);
  height: var(--box-size);
  position: relative;
  display: block;
  transform-origin: -50% center;
  border-radius: var(--box-border-radius); }
  .box:after {
    content: '';
    width: 100%;
    height: 100%;
    position: absolute;
    top: 0;
    right: 0;
    background-color: lightblue;
    border-radius: var(--box-border-radius);
    box-shadow: 0px 0px 10px 0px rgba(28, 159, 255, 0.4); }
  .box:nth-child(1) {
    animation: slide var(--duration) ease-in-out alternate forwards; }
    .box:nth-child(1):after {
      animation: color-change var(--duration) ease-in-out alternate forwards; }
  .box:nth-child(2) {
    animation: flip-1 var(--duration) ease-in-out alternate forwards; }
    .box:nth-child(2):after {
      animation: squidge-1 var(--duration) ease-in-out alternate forwards; }
  .box:nth-child(3) {
    animation: flip-2 var(--duration) ease-in-out alternate forwards; }
    .box:nth-child(3):after {
      animation: squidge-2 var(--duration) ease-in-out alternate forwards; }
  .box:nth-child(4) {
    animation: flip-3 var(--duration) ease-in-out alternate forwards; }
    .box:nth-child(4):after {
      animation: squidge-3 var(--duration) ease-in-out alternate forwards; }
  .box:nth-child(2):after {
    background-color: #1C9FFF; }
  .box:nth-child(3):after {
    background-color: #1FB1FD; }
  .box:nth-child(4):after {
    background-color: #22C7FB; }

@keyframes slide {
  0% {
    background-color: #1795FF;
    transform: translatex(0vw); }
  100% {
    background-color: #23D3FB;
    transform: translatex(calc(var(--container-size) - (var(--box-size) * 0.75))); } }

@keyframes color-change {
  0% {
    background-color: #1795FF; }
  100% {
    background-color: #23D3FB; } }

@keyframes flip-1 {
  0%, 15% {
    transform: rotate(0); }
  40%, 100% {
    transform: rotate(-180deg); } }

@keyframes squidge-1 {
  5% {
    transform-origin: center bottom;
    transform: scalex(1) scaley(1); }
  15% {
    transform-origin: center bottom;
    transform: scalex(1.3) scaley(0.7); }
  25%, 20% {
    transform-origin: center bottom;
    transform: scalex(0.8) scaley(1.4); }
  55%, 100% {
    transform-origin: center top;
    transform: scalex(1) scaley(1); }
  40% {
    transform-origin: center top;
    transform: scalex(1.3) scaley(0.7); } }

@keyframes flip-2 {
  0%, 30% {
    transform: rotate(0); }
  60%, 100% {
    transform: rotate(-180deg); } }

@keyframes squidge-2 {
  20% {
    transform-origin: center bottom;
    transform: scalex(1) scaley(1); }
  30% {
    transform-origin: center bottom;
    transform: scalex(1.3) scaley(0.7); }
  40%, 35% {
    transform-origin: center bottom;
    transform: scalex(0.8) scaley(1.4); }
  70%, 100% {
    transform-origin: center top;
    transform: scalex(1) scaley(1); }
  55% {
    transform-origin: center top;
    transform: scalex(1.3) scaley(0.7); } }

@keyframes flip-3 {
  0%, 45% {
    transform: rotate(0); }
  80%, 100% {
    transform: rotate(-180deg); } }

@keyframes squidge-3 {
  35% {
    transform-origin: center bottom;
    transform: scalex(1) scaley(1); }
  45% {
    transform-origin: center bottom;
    transform: scalex(1.3) scaley(0.7); }
  55%, 50% {
    transform-origin: center bottom;
    transform: scalex(0.8) scaley(1.4); }
  85%, 100% {
    transform-origin: center top;
    transform: scalex(1) scaley(1); }
  70% {
    transform-origin: center top;
    transform: scalex(1.3) scaley(0.7); } }

</style>

{% if photo_uploaded %}
    <div style="display: flex; justify-content: center; align-items: center; height: 30vh;">
        <div class="box_container">
            <div class="box"></div>
            <div class="box"></div>
            <div class="box"></div>
            <div class="box"></div>
        </div>
    </div>
{% endif %}
<div class="menu">
    <div class="div">
        <div class="container">
            <div class="section-title" style="margin-top: 7vh; margin-bottom: 5vh">
                <div class="text-wrapper-8">Featured Items</div>
                <p style="width: 75%; text-align: center;">
                </p>

            </div>
            <form id="searchbox" method="get" action="{% url 'shop_interface' %}">
            <div class="btn-toolbar" role="toolbar" aria-label="Toolbar with button groups" style="margin-right: initial;">
                <!-- <div class="btn-group mr-2" role="group" aria-label="First group">
                    <button type="button" class="btn btn-light btn-lg"><p style="color: red; margin-bottom: 0px">New</p></button>
                    <button type="button" class="btn btn-light btn-lg"><p style="color: red; margin-bottom: 0px">Featured</p></button>
                </div> -->
                <div class="btn-group mr-2" role="group" aria-label="Second group">
                    <div class="btn-group" role="group">
                        <button id="btnGroupDrop2" type="button" class="btn btn-light btn-lg dropdown-toggle artitone-btn-shop"
                                data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                Fine Art
                        </button>
                        <div class="dropdown-menu" aria-labelledby="btnGroupDrop1">
                            <a class="dropdown-item" href="#">Painting</a>
                            <a class="dropdown-item" href="#">Photograph</a>
                            <a class="dropdown-item" href="#">Sculpture</a>
                            <a class="dropdown-item" href="#">Print</a>
                        </div>
                    </div>
                    <div class="btn-group" role="group">
                        <button id="btnGroupDrop3" type="button" class="btn btn-light btn-lg dropdown-toggle artitone-btn-shop"
                                data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            Home Decor
                        </button>
                        <div class="dropdown-menu" aria-labelledby="btnGroupDrop1">
                            <a class="dropdown-item" href="#">Wall Art</a>
                            <a class="dropdown-item" href="#">Hangings</a>
                            <a class="dropdown-item" href="#">Trays</a>
                        </div>
                    </div>
                    <div class="btn-group" role="group">
                        <button id="btnGroupDrop4" type="button" class="btn btn-light btn-lg dropdown-toggle artitone-btn-shop"
                                data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            Furniture
                        </button>
                        <div class="dropdown-menu" aria-labelledby="btnGroupDrop1">
                            <a class="dropdown-item" href="#">Table</a>
                            <a class="dropdown-item" href="#">Chair</a>
                            <a class="dropdown-item" href="#">Cabinets</a>
                        </div>
                    </div>
                </div>
                <div class="btn-group mr-2" role="group" aria-label="Third group">
                    <button type="button" class="btn btn-light btn-lg artitone-btn-shop">Satin</button>
                    <button type="button" class="btn btn-light btn-lg artitone-btn-shop">Matte</button>
                    <button type="button" class="btn btn-light btn-lg artitone-btn-shop">Rough</button>
                </div>
                <div class="btn-group mr-2" role="group" aria-label="Fourth group">
                    <div class="picker" id="picker1"></div>
                    <div class="picker" id="picker2"></div>
                </div>
                <div class="btn-group mr-2" role="group" aria-label="Fifth group" style="margin-left: revert">
                    <button id="btnGroupDrop5" type="button" class="btn btn-light btn-lg dropdown-toggle artitone-btn-shop"
                                data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            Sort By
                        </button>
                        <div class="dropdown-menu" aria-labelledby="btnGroupDrop1">
                            <a class="dropdown-item" href="#">Newest</a>
                            <a class="dropdown-item" href="#">Price</a>
                        </div>
                </div>
            </div>
            </form>

            <div class="artitone-article">

                {% for artwork in page_obj %}
                <div class="artitone-article-item">
                    {% with artwork.pictures.all|first as img %}
                    <img class="element" src="{{ img }}" loading="lazy">
                    {% endwith %}
                    Artist: <a href="{% url 'artist_profile_page' artwork.artist.pk %}">{{ artwork.artist.first_name }},
                    {{ artwork.artist.last_name }}</a>
                    <div class="text-wrapper-9">{{ artwork.name }}</div>
                    <p class="text-wrapper-11">{{ artwork.content }}</p>
                    <p class="text-wrapper-10">$ {{ artwork.price }}</p>
                    {% if user.is_customer %}
                    <a href="{% url 'purchase_artwork' artwork.pk %}" class="btn btn-dark artitone-btn"
                       style="width: 240px;">purchase</a>
                    {% endif %}
                </div>
                {% endfor %}
            </div>
            <nav aria-label="Page navigation" style="display: flex; justify-content: center; align-items: center;">
                <ul class="pagination">
                    {% if page_obj.has_previous %}
                    <li class="page-item"><a class="page-link artitone-page-link" href="?page=1">&laquo;
                        first</a></li>
                    <li class="page-item"><a class="page-link artitone-page-link"
                                             href="?page={{ page_obj.previous_page_number }}">previous</a>
                    </li>
                    {% else %}
                    <li class="page-item disabled"><a class="page-link artitone-page-link">&laquo; first</a>
                    </li>
                    <li class="page-item disabled"><a class="page-link artitone-page-link">previous</a></li>
                    {% endif %}
                    {% for page_num in page_obj.paginator.page_range %}
                    {% if page_obj.number == page_num %}
                    <li class="page-item active"><a class="page-link artitone-page-link"
                                                    href="?page={{ page_num }}">{{ page_num }}</a></li>
                    {% else %}
                    <li class="page-item"><a class="page-link artitone-page-link"
                                             href="?page={{ page_num }}">{{ page_num }}</a></li>
                    {% endif %}
                    {% endfor %}
                    {% if page_obj.has_next %}
                    <li class="page-item"><a class="page-link artitone-page-link"
                                             href="?page={{ page_obj.next_page_number }}">next</a></li>
                    <li class="page-item"><a class="page-link artitone-page-link"
                                             href="?page={{ page_obj.paginator.num_pages }}">last
                        &raquo;</a>
                    </li>
                    {% else %}
                    <li class="page-item disabled"><a class="page-link artitone-page-link">next</a></li>
                    <li class="page-item disabled"><a class="page-link artitone-page-link">last &raquo;</a>
                    </li>
                    {% endif %}
                </ul>
            </nav>
        </div>

        <div style="display: flex; justify-content: center; align-items: center;flex-direction: row;">
            <img class="vector-3" src="{% static 'images/vector-3.svg' %}">
        </div>
        <footer class="footer">
            <div class="logo-wrapper"><img class="logo-2" src="{% static 'images/logo.png' %}"/></div>
            <div class="content-2">
                <div class="text-wrapper-12">ABOUT</div>
                <div class="footer-links">
                    <p class="link"><a href="{% url 'about' %}">Our story</a></p>
                </div>
            </div>
            <div class="content-2">
                <div class="text-wrapper-12">POLICIES</div>
                <div class="footer-links">
                    <p class="link">Term & Condition</p>
                    <p class="link">Privacy & Policy</p>
                </div>
            </div>
            <div class="content-2">
                <div class="text-wrapper-12">CONTACT</div>
                <div class="footer-links">
                    <div class="link">Contact</div>
                    <div class="link">Help</div>
                </div>
            </div>
        </footer>

        <div style="display: flex; justify-content: center; align-items: center;flex-direction: column;">
            <img class="vector-3" src="{% static 'images/vector-3.svg' %}">
            <p class="text">Copyright © 2023 Artitone</p>
        </div>
    </div>
</div>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="{% static 'js/colorPick.js' %}"></script>
<script>
    var color1IsInit = false;
    var color2IsInit = false;
    changeColorPickByGetValue("picker1");
    changeColorPickByGetValue("picker2")
    
    const form = document.getElementById("searchbox");
    $("#picker1").colorPick({
        'palette': ["#1abc9c", "#16a085", "#2ecc71", "#27ae60", "#3498db", "#2980b9", "#9b59b6", "#8e44ad", "#34495e", "#2c3e50", "#f1c40f", "#f39c12", "#e67e22", "#d35400", "#e74c3c", "#c0392b", "#ecf0f1"],
        'onColorSelected': function () {
            console.log("The user has selected the color: " + this.color);
            this.element.css({'backgroundColor': this.color, 'color': this.color});
            if (('URLSearchParams' in window) && (color1IsInit && color2IsInit)) {
                var searchParams = new URLSearchParams(window.location.search);
                searchParams.set("color-picker1", this.color);
                window.location.search = searchParams.toString();
            }
            color1IsInit = true;
        }
    });

    $("#picker2").colorPick({
        'palette': ["#34495e", "#2c3e50", "#f1c40f", "#f39c12", "#e67e22", "#d35400", "#e74c3c", "#c0392b", "#ecf0f1"],
        'onColorSelected': function () {
            console.log("The user has selected the color: " + this.color)
            this.element.css({'backgroundColor': this.color, 'color': this.color});
            if (('URLSearchParams' in window) && (color1IsInit && color2IsInit)) {
                var searchParams = new URLSearchParams(window.location.search);
                searchParams.set("color-picker2", this.color);
                window.location.search = searchParams.toString();
            }
            color2IsInit = true;
        }
    });
</script>
</body>

{% endblock %}
